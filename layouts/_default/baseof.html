<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ .Title }} | {{ .Site.Title }}</title>

    <!-- Basic responsive meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Compile SCSS entry via Hugo Pipes for cache-busted CSS -->
    {{ $scss := resources.Get "scss/main.scss" | css.Sass (dict "targetPath" "css/main.css" "outputStyle" "compressed") | resources.Fingerprint }}
    <link rel="stylesheet" href="{{ $scss.RelPermalink }}">
</head>

<body>

    <!-- Top navigation bar -->
    {{ partial "nav.html" . }}

    <!-- Main content area -->
    <main class="page-main">
        {{ block "main" . }}{{ end }}
    </main>

    {{/* Prefer a user-supplied buildDate param, otherwise fall back to the current time. */}}
    {{ $buildDate := default now .Site.Params.buildDate }}
    <div class="site-credits" aria-label="Site credits">
        <p>Built with Hugo and Codex. Last build {{ $buildDate | time.Format "2006-01-02" }}.</p>
    </div>

    <!-- Footer -->
    {{ partial "footer.html" . }}

    <!-- Optional: global JS (also via relURL for GH Pages compatibility) -->
    <script src="{{ "js/main.js" | relURL }}"></script>

</body>
</html>
